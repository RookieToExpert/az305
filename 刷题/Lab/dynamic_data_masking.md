## ğŸ” å®é™…ä¾‹å­ï¼šä½¿ç”¨ Dynamic Data Maskingï¼ˆDDMï¼‰

ä½ æœ‰ä¸€å¼  `Customers` è¡¨ï¼š

```sql
+----+------------+-------------------+
| ID | Name       | CreditCard        |
+----+------------+-------------------+
| 1  | John Doe   | 4111-1111-1111-1111
| 2  | Jane Smith | 5000-0000-0000-0000
```
ä½ æƒ³è®©æ™®é€šç”¨æˆ·çœ‹ä¸åˆ°å®Œæ•´å¡å·ï¼Œåªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ã€‚


## âœ… è®¾ç½® DDM æ©ç è§„åˆ™ï¼š
```sql
ALTER TABLE Customers  
ALTER COLUMN CreditCard 
ADD MASKED WITH (FUNCTION = 'partial(0,"XXXX-XXXX-",4)');
```

## ğŸ› ï¸ å®é™…ä½¿ç”¨æ­¥éª¤ï¼ˆåœ¨ Azure SQL ä¸­é…ç½® Dynamic Data Maskingï¼‰

1. ç™»å½• [Azure Portal](https://portal.azure.com/)
2. æ‰¾åˆ°ä½ çš„ **Azure SQL æ•°æ®åº“å®ä¾‹**
3. åœ¨å·¦ä¾§å¯¼èˆªä¸­ç‚¹å‡» **â€œDynamic Data Maskingâ€**
4. ç‚¹å‡» `+ Add mask` æ·»åŠ å­—æ®µé®ç½©è§„åˆ™ï¼Œä¾‹å¦‚ï¼š
   - `Email` â†’ ä½¿ç”¨ `email()` å‡½æ•°
   - `CreditCard` â†’ ä½¿ç”¨ `partial(0,"XXXX-XXXX-",4)` å‡½æ•°
   - `SSN` â†’ ä½¿ç”¨ `default()` æˆ– `random()`
5. é…ç½® **ä¾‹å¤–ç”¨æˆ·ï¼ˆPrivileged Usersï¼‰**
   - æ·»åŠ å¯ä»¥çœ‹åˆ°çœŸå®æ•°æ®çš„ SQL ç™»å½•ç”¨æˆ·æˆ– AAD èº«ä»½
   - æœªè¢«åˆ—å…¥ä¾‹å¤–çš„ç”¨æˆ·å°†çœ‹åˆ°é®ç½©ç»“æœ
6. ç‚¹å‡» **â€œSaveâ€** ä¿å­˜é…ç½®

ğŸ“Œ **å¤‡æ³¨ï¼š**
- DDM æ˜¯â€œå³å¸­é®ç½©â€ï¼Œä¸ä¼šä¿®æ”¹æ•°æ®åº“ä¸­çš„åŸå§‹æ•°æ®
- åªå½±å“æŸ¥è¯¢ç»“æœçš„å¯è§†åŒ–ï¼Œä¸å½±å“åº”ç”¨åŠŸèƒ½æˆ–æ€§èƒ½ï¼ˆåŸºæœ¬ï¼‰
